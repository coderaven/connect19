function filterUser(){var t,e,n,o,i;for(t=document.getElementById("filterUser").value.toUpperCase(),n=(e=document.getElementById("friends-list-block")).getElementsByTagName("a"),tp=e.getElementsByTagName("div"),i=0;i<n.length;i++)(o=n[i].getElementsByTagName("h2")[0])&&(-1<o.innerHTML.toUpperCase().indexOf(t)?n[i].style.display="":n[i].style.display="none");for(i=0;i<tp.length;i++)(o=tp[i].getElementsByTagName("h2")[0])&&(-1<o.innerHTML.toUpperCase().indexOf(t)?tp[i].style.display="":tp[i].style.display="none")}!function(){function o(){$(".post-block__featured-image img").on("error",function(){$(this).attr("src","/images/placholder.gif")}),$("img.handled-profile-picture").on("error",function(){$(this).attr("src","/images/default.png")})}"serviceWorker"in navigator&&navigator.serviceWorker.register("/pwa/service-worker.min.js").then(function(){console.log("Service Worker Registered")}),Handlebars.registerHelper("date-format",function(t,e){if(window.moment&&null!==t&&""!==t){var n=e.hash.format||"DD-MM-YYYY";return moment(t).format(n)}return e.hash.default?e.hash.default:t}),$(document).ready(function(){$("#img").click(function(){$("#file").click()}),o(),l(!0),$(".loading").hide(),$(".loader-click").click(function(){$(".loading").show()}),$("#infinite-loader").hide(),$(".profile-pic-input-file").on("change",function(t){var e=t.target.value;e?$(".profile-pic-input-label").text(e):$(".profile-pic-input-label").text("Change Picture")})});var i=1,a=!1,s=null,c=!1;function r(t,e){var n=s(t);$(".all-post-container").append(n),o(),e&&e()}function l(t){var e=$(".gradient-background"),n=$(".container");e.scrollTop()+$(window).height()>=n.height()&&0<$(".post-container").length&&!a&&!c&&(console.log("Getting Posts"),a=!0,$(".infinite-loader").show(),$.ajax({method:"GET",url:"/posts?page="+(i+1),contentType:"application/json",success:function(t){i++,console.log("Current Page: ",i);var e,n,o=JSON.parse(t);o&&o.posts&&0<o.posts.length?(e=o,n=function(){a=!1,$(".infinite-loader").hide(),l()},s?r(e,n):$.get("/ajax-templates/posts.hbs",function(t){console.log("Loading template"),s=Handlebars.compile(t),r(e,n)})):(a=!(c=!0),$(".infinite-loader").hide())}}))}$(".gradient-background").scroll(function(){l()}),$(".request-btn").on("click",function(){var t=$(this);$.ajax({method:"POST",url:"/friends",contentType:"application/json",data:JSON.stringify({member_id:t.attr("id")}),success:function(){console.log("friend request has been sent"),t.html("Friend request sent").attr("disabled","disabled")}})}),$(".pending-request__accept-btn").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);console.log(t),$.ajax({method:"POST",data:JSON.stringify({member_id:t}),contentType:"application/json",url:"/friends/friend-requests",success:function(){console.log("friend request has been accepted")},complete:function(t){e.html("Friend request accepted").attr("disabled","disabled")}})}),$(".flag-post").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({flag_post_id:t}),contentType:"application/json",url:"/",success:function(){console.log("This post has been flagged")},complete:function(t){e.html("This post has been flagged").attr("disabled","disabled")}})}),$(".trash-post").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({trash_post_id:t}),contentType:"application/json",url:"/flags",success:function(){console.log("This post has been trashed")},complete:function(t){e.html("This post has been trashed").attr("disabled","disabled")}})}),$(".trash-block__undo-btn").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({trash_post_id:t}),contentType:"application/json",url:"/trash",success:function(){console.log("This post has been untrashed")},complete:function(t){e.html("This post has been untrashed").attr("disabled","disabled")}})}),$(".trash-block__delete-btn").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({trashed_post_id:t}),contentType:"application/json",url:"/trash/delete",success:function(){console.log("This post has been Deleted"),$(".trash-block").hide()},complete:function(){e.html("This post has been Deleted").attr("disabled","disabled")}})}),$(".friend-list__select-btn").on("change",function(){var t=$(this).is(":checked"),e=$(this).attr("id");$.ajax({method:"POST",data:JSON.stringify({admin_user_id:e,admin_value:t}),contentType:"application/json",url:"/admin",success:function(){$("#notify").show().html("User has been added as admin"),console.log("This user has been added as admin")},complete:function(){}})}),$(".friend-list__approve--user").on("change",function(){var t=$(this).is(":checked"),e=$(this).attr("id");console.log(t),console.log(e),$.ajax({method:"POST",data:JSON.stringify({user_id:e,user_value:t}),contentType:"application/json",url:"/admin/approve",success:function(){$("#notify").show().html("User has been approved"),console.log("This user has been approved")},complete:function(){}})}),$(".flag-group-post").on("click",function(){var t=$("#group-id").attr("data-id"),e=$(this).parent().attr("id"),n=$(this);console.log(e),console.log(t),$.ajax({method:"POST",data:JSON.stringify({flag_post_id:e}),contentType:"application/json",url:"/groups/"+t,success:function(){console.log("This group post has been flagged")},complete:function(t){n.html("This post has been flagged").attr("disabled","disabled")}})}),$(".group-flag-block__trash-post").on("click",function(){var t=$("#group-id").attr("data-id"),e=$(this).parent().attr("id"),n=$(this);console.log(e),console.log(t),$.ajax({method:"POST",data:JSON.stringify({trash_post_id:e}),contentType:"application/json",url:"/groups/"+t+"/flags",success:function(){console.log("This post has been trashed")},complete:function(t){n.html("This post has been trashed").attr("disabled","disabled")}})}),$(".group-trash-block__undo-btn").on("click",function(){var t=$("#group-id").attr("data-id"),e=$(this).parent().attr("id"),n=$(this);$.ajax({method:"POST",data:JSON.stringify({trash_post_id:e}),contentType:"application/json",url:"/groups/"+t+"/trash",success:function(){console.log("This Group post has been untrashed")},complete:function(t){n.html("This post has been untrashed").attr("disabled","disabled")}})}),$(".group-trash-block__delete-btn").on("click",function(){var t=$("#group-id").attr("data-id"),e=$(this).parent().attr("id"),n=$(this);$.ajax({method:"POST",data:JSON.stringify({trashed_post_id:e}),contentType:"application/json",url:"/groups/"+t+"/trash/delete",success:function(){console.log("This group post has been Deleted"),$(".trash-block").hide()},complete:function(){n.html("This post has been Deleted").attr("disabled","disabled")}})}),$(".group-invitation-block__accept-invitation").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({group_id:t}),contentType:"application/json",url:"/groups/invitations",success:function(){console.log("You have accepted Group invitation")},complete:function(){e.html("You have accepted Group invitation").attr("disabled","disabled")}})}),$(".pingroup").on("change",function(){var t=$(this).is(":checked"),e=$(this).parent().attr("id");console.log(t),console.log(e),$.ajax({method:"POST",data:JSON.stringify({group_id:e,pin_value:t}),contentType:"application/json",url:"/groups/pingroup",success:function(){$("#notify").show().html("This group has pinned"),console.log("This group has pinned")},complete:function(){}})}),$(".pinpost").on("change",function(){var t=$(this).is(":checked"),e=$(this).parent().attr("id");console.log(t),console.log(e),$.ajax({method:"POST",data:JSON.stringify({post_id:e,pin_value:t}),contentType:"application/json",url:"/groups/pinpost",success:function(){$("#notify").show().html("This group has pinned"),console.log("This group has pinned")},complete:function(){}})}),$(".friend-list__delete-user").on("click",function(){var t=$(this).parent().attr("id"),e=$(this);$.ajax({method:"POST",data:JSON.stringify({user_id:t}),contentType:"application/json",url:"/admin/delete-user",success:function(){console.log("This User has been Deleted"),$(".trash-block").hide()},complete:function(){e.html("User Deleted").attr("disabled","disabled")}})}),$("#tags").on("focus",function(){$.ajax({method:"GET",url:"/groups/_dmPkzzXE/join",success:function(t){}})}),$(".chat_button").on("click",function(){$(this).attr("id")}),$(document).on("click",".chat_close",function(){$(".chat_section").remove()}),$.deparam=$.deparam||function(t){return void 0===t&&(t=window.location.pathname),window.location.pathname.split("/").pop()},$(document).ready(function(){var t,e,n,o,i=io(),a=$.deparam(window.location.pathname),s=a.split(".");n=1,o=(t=s)[e=0],t[e]=t[n],t[n]=o;var c=s[0]+"."+s[1];i.on("connect",function(){var t={room1:a,room2:c};i.emit("join PM",t,function(){}),$(document).on("keypress","#send_message_input",function(t){if(13===t.keyCode){var e=$(this).val();0<e.trim().length?(i.emit("message_from_client",{msg:e,username:$("#chat_section_wrapper").attr("data-name"),friend_member_id:$("#chat_section_wrapper").attr("data-id"),socket_id:i.id,room:a}),$(this).val("")):alert("Please enter some text")}}),i.on("attach_user_info",function(t){i.member_id=t.member_id,i.user_name=t.user_name}),i.on("message_from_server",function(t){$(".all_Chat_messages").append("<div class='usr_msg'><span class='user_with_message'>"+t.user_name+":</span><div class='usr_msg_box'><p>"+t.msg+"</p></div></div>")})})})}();var modal2=document.getElementById("modal2");function openNav(){document.getElementById("mySidenav").style.width="250px",console.log(modal2),modal2.style.display="block"}function closeNav(){document.getElementById("mySidenav").style.width="0",modal2.style.display="none"}function Refresh(){window.parent.location=window.parent.location.href}window.onclick=function(t){t.target==modal2&&(document.getElementById("mySidenav").style.width="0",modal2.style.display="none")};